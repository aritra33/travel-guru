{"ast":null,"code":"var _jsxFileName = \"D:\\\\Programming-hero\\\\travel-guru-master\\\\src\\\\Container\\\\Login\\\\Login.js\";\nimport React, { useContext, useState } from 'react';\nimport { Card } from 'react-bootstrap';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport { UserContext } from '../../App';\nimport facebook from \"../../Icon/fb.png\";\nimport google from \"../../Icon/google.png\";\nimport './Login.css';\nimport { facebookSignIn, googleSignIn, initializeLoginFramework, signOutAll, signInUserWithEmailAndPassword, createUserWithEmailAndPassword } from './logInManager';\n\nconst Login = () => {\n  const [user, setUser] = useState({\n    isSignIn: false,\n    name: '',\n    email: '',\n    photo: ''\n  });\n  initializeLoginFramework();\n  const [logged, setLogged] = useContext(UserContext);\n  const history = useHistory();\n  const location = useLocation();\n  let {\n    from\n  } = location.state || {\n    from: {\n      pathname: \"/\"\n    }\n  };\n  const [newUser, setNewUser] = useState(false);\n  const [input, setInput] = useState({});\n\n  const register = () => {\n    setNewUser(true);\n  };\n\n  const login = () => {\n    setNewUser(false);\n  };\n\n  const facebookLogin = () => {\n    facebookSignIn().then(response => {\n      logResponse(response, true);\n    });\n  };\n\n  const googleLogin = () => {\n    googleSignIn().then(response => {\n      logResponse(response, true);\n    });\n  };\n\n  const logResponse = (response, redirect) => {\n    setUser(response);\n    setLogged(response);\n\n    if (redirect) {\n      history.replace(from);\n    }\n  };\n\n  const submit = event => {\n    if (newUser && user.email && user.password) {\n      user.name = `${user.fName} ${user.lName}`;\n      createUserWithEmailAndPassword(user.name, user.email, user.password).then(response => {\n        logResponse(response, true);\n      });\n    }\n\n    if (!newUser && user.email && user.password) {\n      signInUserWithEmailAndPassword(user.email, user.password).then(response => {\n        logResponse(response, true);\n      });\n    }\n\n    event.preventDefault();\n  };\n\n  const [password, setPassword] = useState('');\n\n  const validate = event => {\n    let isFieldValid = true;\n\n    if (event.target.name === 'fName') {\n      isFieldValid = /^([A-Za-z]{3,30})$/.test(event.target.value);\n\n      if (isFieldValid) {\n        input.fName = false;\n      } else {\n        input.fName = true;\n      }\n    }\n\n    if (event.target.name === 'lName') {\n      isFieldValid = /^([A-Za-z]{3,30})$/.test(event.target.value);\n\n      if (isFieldValid) {\n        input.lName = false;\n      } else {\n        input.lName = true;\n      }\n    }\n\n    if (event.target.name === 'email') {\n      isFieldValid = /\\S+@\\S+\\.\\S+/.test(event.target.value);\n\n      if (isFieldValid) {\n        input.email = false;\n      } else {\n        input.email = true;\n      }\n    }\n\n    if (event.target.name === 'password') {\n      isFieldValid = /^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])([a-zA-Z0-9]{8})$/.test(event.target.value);\n\n      if (isFieldValid) {\n        input.password = false;\n      } else {\n        input.password = true;\n      }\n    }\n\n    if (event.target.name === 'confirmPassword') {\n      isFieldValid = event.target.value === password;\n\n      if (isFieldValid) {\n        input.confirmPassword = false;\n      } else {\n        input.confirmPassword = true;\n      }\n    }\n\n    if (isFieldValid) {\n      const newUser = { ...user\n      };\n      newUser[event.target.name] = event.target.value;\n      setUser(newUser);\n    } else {\n      const newUser = { ...user\n      };\n      newUser[event.target.name] = '';\n      setUser(newUser);\n    }\n  };\n\n  const signOut = () => {\n    signOutAll().then(response => {\n      logResponse(response, false);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 9\n    }\n  }, !logged.isSignIn ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-3 col-sm-1 col-1 col-lg-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-6 col-sm-8 col-10 col-sm-10 col-lg-6 log\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"InUp\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 21\n    }\n  }, newUser ? /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"head\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 36\n    }\n  }, \"Create an account\") : /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"head\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 29\n    }\n  }, \"Sign In\"), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: submit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 25\n    }\n  }, newUser && /*#__PURE__*/React.createElement(\"input\", {\n    onBlur: validate,\n    type: \"text\",\n    placeholder: \"First Name\",\n    name: \"fName\",\n    id: \"\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 41\n    }\n  }), newUser && input.fName && /*#__PURE__*/React.createElement(\"p\", {\n    className: \"warning\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 56\n    }\n  }, \"Must contain only letters and between 3 and 30\"), newUser && /*#__PURE__*/React.createElement(\"input\", {\n    onBlur: validate,\n    type: \"text\",\n    placeholder: \"Last Name\",\n    name: \"lName\",\n    id: \"\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 41\n    }\n  }), newUser && input.lName && /*#__PURE__*/React.createElement(\"p\", {\n    className: \"warning\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 56\n    }\n  }, \"Must contain only letters and between 3 and 30\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"email\",\n    onBlur: validate,\n    placeholder: \"Email\",\n    name: \"email\",\n    id: \"\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 29\n    }\n  }), newUser && input.email && /*#__PURE__*/React.createElement(\"p\", {\n    className: \"warning\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 56\n    }\n  }, \"Enter a valid email\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    onChange: event => setPassword(event.target.value),\n    onBlur: validate,\n    placeholder: \"Password\",\n    name: \"password\",\n    id: \"\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 29\n    }\n  }), newUser && input.password && /*#__PURE__*/React.createElement(\"p\", {\n    className: \"warning\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 59\n    }\n  }, \"Password Must contain 8 character, a uppercase and letter\"), newUser && /*#__PURE__*/React.createElement(\"input\", {\n    onBlur: validate,\n    type: \"password\",\n    placeholder: \"Confirm Password\",\n    name: \"confirmPassword\",\n    id: \"\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 41\n    }\n  }), newUser && input.confirmPassword && /*#__PURE__*/React.createElement(\"p\", {\n    className: \"warning\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 66\n    }\n  }, \"Password Mismatch\"), newUser ? /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    className: \"btn-create\",\n    value: \"Create an account\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 40\n    }\n  }) : /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    className: \"btn-create\",\n    value: \"Sign In\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 33\n    }\n  })), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"warning\",\n    style: {\n      color: 'red'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 25\n    }\n  }, user.error), newUser ? /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 36\n    }\n  }, \"Already have an account ? \", /*#__PURE__*/React.createElement(\"button\", {\n    onClick: login,\n    className: \"toggle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 65\n    }\n  }, \"Login\"), \" \") : /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 29\n    }\n  }, \"Don't have an account ? \", /*#__PURE__*/React.createElement(\"button\", {\n    onClick: register,\n    className: \"toggle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 56\n    }\n  }, \"Register here!\"), \" \")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"line d-flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 25\n    }\n  }, \"Or\"), /*#__PURE__*/React.createElement(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 34\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"social-btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: facebookLogin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"facebook d-flex justify-content-between align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: facebook,\n    alt: \"Facebook\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 33\n    }\n  }, \"Continue With Facebook\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 62\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"social-btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: googleLogin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"google d-flex justify-content-between align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: google,\n    alt: \"Google\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 33\n    }\n  }, \"Continue With Google\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 60\n    }\n  }))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-3 col-sm-1 col-1 col-lg-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 17\n    }\n  })) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-3 col-sm-1 col-1 col-lg-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-6 col-sm-8 col-10 col-sm-10 col-lg-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: user.image,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Card.Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 29\n    }\n  }, logged.email), /*#__PURE__*/React.createElement(Card.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Card.Title, {\n    className: \"card-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 33\n    }\n  }, logged.name), /*#__PURE__*/React.createElement(Card.Img, {\n    src: logged.photo,\n    alt: logged.name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(Card.Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn-create\",\n    onClick: signOut,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 33\n    }\n  }, \" Sign Out \")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-3 col-sm-1 col-1 col-lg-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 21\n    }\n  })));\n};\n\nexport default Login;","map":{"version":3,"sources":["D:/Programming-hero/travel-guru-master/src/Container/Login/Login.js"],"names":["React","useContext","useState","Card","useHistory","useLocation","UserContext","facebook","google","facebookSignIn","googleSignIn","initializeLoginFramework","signOutAll","signInUserWithEmailAndPassword","createUserWithEmailAndPassword","Login","user","setUser","isSignIn","name","email","photo","logged","setLogged","history","location","from","state","pathname","newUser","setNewUser","input","setInput","register","login","facebookLogin","then","response","logResponse","googleLogin","redirect","replace","submit","event","password","fName","lName","preventDefault","setPassword","validate","isFieldValid","target","test","value","confirmPassword","signOut","color","error","image"],"mappings":"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","sourcesContent":["import React, { useContext, useState } from 'react';\nimport { Card } from 'react-bootstrap';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport { UserContext } from '../../App';\nimport facebook from \"../../Icon/fb.png\";\nimport google from \"../../Icon/google.png\";\nimport './Login.css';\nimport { facebookSignIn, googleSignIn, initializeLoginFramework, signOutAll,signInUserWithEmailAndPassword,createUserWithEmailAndPassword} from './logInManager';\nconst Login = () => {\n    const [user, setUser] = useState({\n        isSignIn: false,\n        name: '',\n        email: '',\n        photo: ''\n    });\n    initializeLoginFramework();\n    const[logged,setLogged]=useContext(UserContext);\n    const history = useHistory();\n    const location = useLocation();\n\n    let { from } = location.state || { from: { pathname: \"/\" } };\n\n    const [newUser, setNewUser] = useState(false);\n    const [input, setInput] = useState({ });\n    const register = () => {\n        setNewUser(true);\n    }\n    const login = () => {\n        setNewUser(false);\n    }\n    const facebookLogin = () => {\n        facebookSignIn()\n            .then(response => {\n                logResponse(response,true);\n            })\n    }\n    const googleLogin = () => {\n        googleSignIn()\n            .then(response => {\n                logResponse(response,true);\n            })\n    }\n    const logResponse = (response,redirect) => {\n        setUser(response);\n        setLogged(response);\n        if(redirect){\n            history.replace(from);\n        }\n    }\n    const submit = (event) => {\n        if (newUser && user.email && user.password) {\n            user.name=`${user.fName} ${user.lName}`;\n            createUserWithEmailAndPassword(user.name,user.email, user.password)\n            .then(response => {\n                logResponse(response,true);\n            })\n        }\n        if (!newUser && user.email && user.password) {\n            signInUserWithEmailAndPassword(user.email, user.password)\n            .then(response => {\n                logResponse(response,true);\n            })\n        }\n        event.preventDefault();\n    }\n    const [password, setPassword] = useState('')\n    const validate = (event) => {\n        let isFieldValid = true;\n        if (event.target.name === 'fName') {\n            isFieldValid = /^([A-Za-z]{3,30})$/.test(event.target.value);\n            if(isFieldValid){\n                input.fName=false;\n            }\n            else{\n                input.fName=true;\n            }\n        }\n        if (event.target.name === 'lName') {\n            isFieldValid = /^([A-Za-z]{3,30})$/.test(event.target.value);\n            if(isFieldValid){\n                input.lName=false;\n            }\n            else{\n                input.lName=true;\n            }\n        }\n        if (event.target.name === 'email') {\n            isFieldValid = /\\S+@\\S+\\.\\S+/.test(event.target.value);\n            if(isFieldValid){\n                input.email=false;\n            }\n            else{\n                input.email=true;\n            }\n        }\n        if (event.target.name === 'password') {\n            isFieldValid = /^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])([a-zA-Z0-9]{8})$/.test(event.target.value);\n            if(isFieldValid){\n                input.password=false;\n            }\n            else{\n                input.password=true;\n            }\n        }\n        if (event.target.name === 'confirmPassword') {\n             isFieldValid =(event.target.value === password);\n             if(isFieldValid){\n                input.confirmPassword=false;\n            }\n            else{\n                input.confirmPassword=true;\n            }\n        }\n        if (isFieldValid) {\n            const newUser = { ...user };\n            newUser[event.target.name] = event.target.value;\n            setUser(newUser);\n        } else {\n            const newUser = { ...user };\n            newUser[event.target.name] = '';\n            setUser(newUser);\n        }\n    }\n    const signOut = () => {\n        signOutAll()\n            .then(response => {\n                logResponse(response,false);\n            })\n    }\n    return (\n        <div>\n            {!logged.isSignIn ?\n            <div className=\"row\">\n                <div className=\"col-md-3 col-sm-1 col-1 col-lg-3\"></div>\n                <div className=\"col-md-6 col-sm-8 col-10 col-sm-10 col-lg-6 log\">\n                    <div className=\"InUp\">\n                        {newUser ? <h5 className=\"head\">Create an account</h5> :\n                            <h5 className=\"head\">Sign In</h5>}\n                        <form onSubmit={submit}>\n                            {newUser && <input onBlur={validate} type=\"text\" placeholder=\"First Name\" name=\"fName\" id=\"\" required/>}\n                            {newUser && input.fName && <p className=\"warning\">Must contain only letters and between 3 and 30</p>}\n                            {newUser && <input onBlur={validate} type=\"text\" placeholder=\"Last Name\" name=\"lName\" id=\"\" required/>}\n                            {newUser && input.lName && <p className=\"warning\">Must contain only letters and between 3 and 30</p>}\n                            <input type=\"email\" onBlur={validate} placeholder=\"Email\" name=\"email\" id=\"\" required/>\n                            {newUser && input.email && <p className=\"warning\">Enter a valid email</p>}\n                            <input type=\"password\" onChange={event => setPassword(event.target.value)} onBlur={validate} placeholder=\"Password\" name=\"password\" id=\"\" required/>\n                            {newUser && input.password && <p className=\"warning\">Password Must contain 8 character, a uppercase and letter</p>}\n                            {newUser && <input onBlur={validate} type=\"password\" placeholder=\"Confirm Password\" name=\"confirmPassword\" id=\"\" required/>}\n                            {newUser && input.confirmPassword && <p className=\"warning\">Password Mismatch</p>}\n                           \n                            {newUser ? <input  type=\"submit\" className=\"btn-create\" value=\"Create an account\"/> :\n                                <input type=\"submit\" className=\"btn-create\" value=\"Sign In\"/>}\n                        </form>\n                        <p className=\"warning\" style={{ color: 'red' }}>{user.error}</p>\n                        {newUser ? <p>Already have an account ? <button onClick={login} className=\"toggle\">Login</button> </p> :\n                            <p>Don't have an account ? <button onClick={register} className=\"toggle\">Register here!</button> </p>}\n                            \n\n                    </div>\n                    <div className=\"line d-flex\">\n                        <hr />\n                        <p>Or</p><hr />\n                    </div>\n                    <div className=\"social-btn\">\n                        <button onClick={facebookLogin} >\n                            <div className=\"facebook d-flex justify-content-between align-items-center\">\n                                <img src={facebook} alt=\"Facebook\" />\n                                <p>Continue With Facebook</p><p></p>\n                            </div>\n                        </button>\n                    </div>\n                    <div className=\"social-btn\">\n                        <button onClick={googleLogin}>\n                            <div className=\"google d-flex justify-content-between align-items-center\">\n                                <img src={google} alt=\"Google\" />\n                                <p>Continue With Google</p><p></p>\n                            </div>\n                        </button>\n                    </div>\n\n                </div>\n                <div className=\"col-md-3 col-sm-1 col-1 col-lg-3\"></div>\n            </div>\n                :\n                <div className=\"row\">\n                    <div className=\"col-md-3 col-sm-1 col-1 col-lg-3\"></div>\n                    <div className=\"col-md-6 col-sm-8 col-10 col-sm-10 col-lg-6\">\n                        <img src={user.image} alt=\"\" />\n                        <Card>\n                            <Card.Header>{logged.email}</Card.Header>\n                            <Card.Body>\n                                <Card.Title className=\"card-text\">{logged.name}</Card.Title>\n                                <Card.Img src={logged.photo} alt={logged.name} />\n                                <Card.Text>\n                                    \n                                </Card.Text>\n                                <button className=\"btn-create\" onClick={signOut}> Sign Out </button>\n                            </Card.Body>\n                        </Card>\n\n                    </div>\n                    <div className=\"col-md-3 col-sm-1 col-1 col-lg-3\"></div>\n                </div>\n            }\n        </div>\n    );\n};\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}